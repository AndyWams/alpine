<div class="covering">
  <div class="create-wrapper  animated fadeInDown">
    <div class="row">
      <div class="col-lg-12">
        <div class="header-top">
          <h1>Create your Account</h1>
          <div class="alert alert-danger" *ngIf="errorMsg">{{errorMsg}}</div>
          <form class="account-form row" [formGroup]="form"  (ngSubmit)="addUser()">
            <div class="form-field col-lg-6">
              <input  [formControl]="form.controls['username']"
                  [ngClass]="{'is-invalid': form.controls['username'].hasError('required') &&
                   form.controls['username'].touched ||  form.controls['username'].hasError('minlength') || 
                   form.controls['username'].hasError('maxlength')}"
               class="form-control input-text js-text" required>
              <label class="label" for="username">Username</label>
              <div class="invalid-feedback "
                    *ngIf="form.controls['username'].hasError('required') && form.controls['username'].touched">
                    Username is required.</div>
              <div class="invalid-feedback"
                  *ngIf="form.controls['username'].hasError('maxlength') && form.controls['username'].touched">Username
                  must not exceed 20 characters.</div>
              <div class="invalid-feedback"
                *ngIf="form.controls['username'].hasError('minlength') && form.controls['username'].touched">Username
                cannot be less than 3 characters.</div>
            </div>
            <div class="form-group form-field col-lg-6">
              <input [formControl]="form.controls['email']"
               [ngClass]="{'is-invalid': form.controls['email'].hasError('required') && form.controls['email'].touched  
               || form.controls['email'].hasError('email')
                  }"
                    class="form-control input-text js-text">
              <label class="label" for="email">Email</label>
              <div class="invalid-feedback "
                *ngIf="form.controls['email'].hasError('required') && form.controls['email'].touched">
                Email is required.</div>
                <div class="invalid-feedback"
                  *ngIf="form.controls['email'].hasError('email') && form.controls['email'].touched">
                   Email is not valid</div>
            </div>
            <div class="form-field col-lg-12 align-center">
              <input [formControl]="form.controls['password']"
               [ngClass]="{'is-invalid': form.controls['password'].hasError('required') &&
                   form.controls['password'].touched}" type="password" class="form-control input-text js-text" >
              <label class="label" for="password">Password</label>
            <div class="invalid-feedback " *ngIf="form.controls['password'].hasError('required') && form.controls['password'].touched">
              Password is required.</div>
            </div>
            <div class="form-field col-lg-12 align-center">
              <button [disabled]="isBtnDisabled()" type="submit" class="btn btn-primary"><i *ngIf="loading" class="fas fa-spinner"></i> Create</button>
            </div>
            <div class="col-lg-12 align-center create-new">
              <p class="create-now"> <a href="#" class="tnc">Terms of Service</a>
                | Already have an account? | <span><a routerLink='/accounts/login' class="logme-in">Login.</a></span>
              </p>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>